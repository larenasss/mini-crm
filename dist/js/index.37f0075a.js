(function(){"use strict";var t={3405:function(t,e,n){var s=n(9242),a=n(3396);const r={class:"container with-nav"};function i(t,e,n,s,i,l){const o=(0,a.up)("the-navbar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(o),(0,a._)("div",r,[(0,a.Wm)(c)])],64)}const l={class:"navbar"},o=(0,a.Uk)("Freelance"),c={class:"navbar-menu"},u=(0,a.Uk)("Все задачи"),d=(0,a.Uk)("Создать");function p(t,e,n,s,r,i){const p=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("nav",l,[(0,a._)("h3",null,[(0,a.Wm)(p,{to:"/"},{default:(0,a.w5)((()=>[o])),_:1})]),(0,a._)("ul",c,[(0,a._)("li",null,[(0,a.Wm)(p,{to:"/"},{default:(0,a.w5)((()=>[u])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(p,{to:"/new"},{default:(0,a.w5)((()=>[d])),_:1})])])])}var k={},g=n(89);const v=(0,g.Z)(k,[["render",p]]);var f=v,w={components:{TheNavbar:f}};const h=(0,g.Z)(w,[["render",i]]);var m=h,_=n(678);const y=(0,a._)("h1",null,"Создать новую задачу",-1),S={class:"form-control"},b=(0,a._)("label",{for:"title"},"Название",-1),T={class:"form-control"},D=(0,a._)("label",{for:"date"},"Дата дэдлайна",-1),x={class:"form-control"},C=(0,a._)("label",{for:"description"},"Описание",-1),N=["disabled"];function O(t,e,n,r,i,l){return(0,a.wg)(),(0,a.iD)("form",{class:"card",onSubmit:e[3]||(e[3]=(0,s.iM)(((...t)=>r.addNewTask&&r.addNewTask(...t)),["prevent"]))},[y,(0,a._)("div",S,[b,(0,a.wy)((0,a._)("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>r.task.title=t)},null,512),[[s.nr,r.task.title]])]),(0,a._)("div",T,[D,(0,a.wy)((0,a._)("input",{type:"date",id:"deadline","onUpdate:modelValue":e[1]||(e[1]=t=>r.task.deadline=t)},null,512),[[s.nr,r.task.deadline]])]),(0,a._)("div",x,[C,(0,a.wy)((0,a._)("textarea",{id:"description","onUpdate:modelValue":e[2]||(e[2]=t=>r.task.description=t)},null,512),[[s.nr,r.task.description]])]),(0,a._)("button",{class:"btn primary",type:"submit",disabled:!r.isValid},"Создать",8,N)],32)}var A=n(4870),j=n(65);const U=()=>Math.floor(1e4*Math.random());var I=U;class z{constructor(t="",e="active",n=(new Date).toLocaleDateString(),s=""){this.id=I(),this.title=t,this.status=e,this.deadline=n,this.description=s}}var H=z,W={setup(){const t=(0,A.qj)(new H),e=(0,a.Fl)((()=>t.title&&t.description)),n=(0,_.tv)(),s=(0,j.oR)(),r=()=>{new Date(t.deadline)<new Date&&(t.status="cancelled"),s.commit("addNewTask",t),n.push("/")};return{addNewTask:r,task:t,isValid:e}}};const Z=(0,g.Z)(W,[["render",O]]);var F=Z,M=n(7139);const V={key:0,class:"card"},B=(0,a._)("strong",null,"Статус",-1),P=(0,a.Uk)(": "),R=(0,a._)("strong",null,"Дэдлайн",-1),Y=(0,a._)("strong",null,"Описание",-1),J={key:1,class:"text-white center"},q=(0,a.Uk)(" Задачи с id = "),E=(0,a.Uk)(" нет. ");function K(t,e,n,s,r,i){const l=(0,a.up)("AppStatus");return s.task?((0,a.wg)(),(0,a.iD)("div",V,[(0,a._)("h2",null,(0,M.zw)(s.task.title),1),(0,a._)("p",null,[B,P,(0,a.Wm)(l,{type:s.task.status},null,8,["type"])]),(0,a._)("p",null,[R,(0,a.Uk)(": "+(0,M.zw)(s.task.deadline),1)]),(0,a._)("p",null,[Y,(0,a.Uk)(": "+(0,M.zw)(s.task.description),1)]),(0,a._)("div",null,[(0,a._)("button",{class:"btn",onClick:e[0]||(e[0]=t=>s.changeStatus(s.task.id,"pending"))},"Взять в работу"),(0,a._)("button",{class:"btn primary",onClick:e[1]||(e[1]=t=>s.changeStatus(s.task.id,"done"))},"Завершить"),(0,a._)("button",{class:"btn danger",onClick:e[2]||(e[2]=t=>s.changeStatus(s.task.id,"cancelled"))},"Отменить")])])):((0,a.wg)(),(0,a.iD)("h3",J,[q,(0,a._)("strong",null,(0,M.zw)(s.taskId),1),E]))}function L(t,e,n,s,r,i){return(0,a.wg)(),(0,a.iD)("span",{class:(0,M.C_)(["badge",s.className])},(0,M.zw)(s.text),3)}var $={props:{type:String,validator(t){return["active","done","pending","cancelled"].includes(t)}},setup(t){if(!t.type)return;const e=(0,j.oR)(),n=e.getters.getStateStatus,s=(0,A.iH)(n[t.type].className),r=(0,A.iH)(n[t.type].text);return(0,a.YP)(t,(t=>{s.value=n[t.type].className,r.value=n[t.type].text})),{className:s,text:r}}};const G=(0,g.Z)($,[["render",L]]);var Q=G,X={props:["id"],setup(t){const e=(0,j.oR)(),n=t.id,s=e.getters.getTaskById(n),a=(t,n)=>{e.commit("changeTaskStatus",{taskId:t,newStatus:n})};return{task:s,taskId:n,changeStatus:a}},components:{AppStatus:Q}};const tt=(0,g.Z)(X,[["render",K]]);var et=tt;const nt=t=>((0,a.dD)("data-v-155dedc4"),t=t(),(0,a.Cn)(),t),st={class:"tasks-header"},at={class:"text-white"},rt={class:"tasks-header__select"},it=nt((()=>(0,a._)("strong",{class:"text-white"},"Cортировка: ",-1))),lt=["data-obj-key"],ot={class:"card-title"},ct=["onClick"],ut={key:0,class:"text-white center"};function dt(t,e,n,s,r,i){const l=(0,a.up)("AppStatus");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",st,[(0,a._)("h3",at,"Всего действующих задач: "+(0,M.zw)(s.taskCount),1),(0,a._)("div",rt,[it,(0,a._)("select",{class:"form-control select-css",onChange:e[0]||(e[0]=(...t)=>s.onSelectedSort&&s.onSelectedSort(...t)),ref:"selectSort"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.stateStore,((t,e)=>((0,a.wg)(),(0,a.iD)("option",{key:t.className,"data-obj-key":e},(0,M.zw)(t.text),9,lt)))),128))],544)])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tasks,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"card",key:t.id},[(0,a._)("h2",ot,[(0,a.Uk)((0,M.zw)(t.title)+" ",1),(0,a.Wm)(l,{type:t.status},null,8,["type"])]),(0,a._)("p",null,[(0,a._)("strong",null,[(0,a._)("small",null,(0,M.zw)(t.deadline),1)])]),(0,a._)("button",{class:"btn primary",onClick:e=>s.showTask(t.id)},"Посмотреть",8,ct)])))),128)),s.tasks.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("h1",ut,"Задач пока нет"))])}class pt{constructor(t,e){this.className=t,this.text=e}}var kt=pt,gt={setup(){const t=(0,j.oR)(),e=(0,_.tv)(),n=(0,A.iH)(t.getters.getAllTasks),s=t.getters.getStateStatus;s.all=new kt("_","Все");const r=(0,a.Fl)((()=>t.getters.getCountActiveTasks)),i=(0,A.iH)(null),l=t=>e.push(`/task/${t}`);function o(){const e=i.value,s=e[e.selectedIndex],a=s.getAttribute("data-obj-key");n.value="all"===a?t.getters.getAllTasks:t.getters.getAllTaskByStatus(a)}return{tasks:n,taskCount:r,showTask:l,stateStore:s,onSelectedSort:o,selectSort:i}},components:{AppStatus:Q}};const vt=(0,g.Z)(gt,[["render",dt],["__scopeId","data-v-155dedc4"]]);var ft=vt;const wt=(0,_.p7)({history:(0,_.PO)(),routes:[{path:"/tasks",component:ft,alias:"/"},{path:"/new",component:F},{path:"/task/:id",component:et,props:!0},{path:"/:notFound(.*)",redirect:"/"}],linkActiveClass:"active",linkExactActiveClass:"active"});var ht=wt;const mt={id:1,title:"Тестовая таска",status:"active",deadline:(new Date).toLocaleDateString(),description:"Самый важный текст"},_t=(0,j.MT)({namespaced:!0,state(){return{tasks:JSON.parse(localStorage.getItem("tasks"))??[mt],stateStatus:{active:new kt("primary","Активен"),cancelled:new kt("danger","Отменен"),done:new kt("primary","Завершен"),pending:new kt("warning","Выполняется")}}},mutations:{addNewTask({tasks:t},e){t.unshift(e),localStorage.setItem("tasks",JSON.stringify(t))},changeTaskStatus({tasks:t},{taskId:e,newStatus:n}){const s=t.find((t=>t.id===Number(e)));s.status=n,localStorage.setItem("tasks",JSON.stringify(t))}},getters:{getAllTasks:({tasks:t})=>t,getCountActiveTasks:({tasks:t})=>t.filter((t=>"active"===t.status||"pending"===t.status)).length,getAllTaskByStatus:({tasks:t})=>e=>t.filter((t=>t.status===e)),getTaskById:t=>e=>t.tasks.find((t=>t.id===Number(e))),getStateStatus:({stateStatus:t})=>t}});var yt=_t;(0,s.ri)(m).use(ht).use(yt).mount("#app")}},e={};function n(s){var a=e[s];if(void 0!==a)return a.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,s,a,r){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],a=t[u][1],r=t[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](s[o])}))?s.splice(o--,1):(l=!1,r<i&&(i=r));if(l){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,a,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={826:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,r,i=s[0],l=s[1],o=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(o)var u=o(n)}for(e&&e(s);c<i.length;c++)r=i[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},s=self["webpackChunkmini_jira"]=self["webpackChunkmini_jira"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(3405)}));s=n.O(s)})();
//# sourceMappingURL=index.37f0075a.js.map